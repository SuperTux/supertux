id: org.supertux.SuperTuxNightly
runtime: org.freedesktop.Platform
runtime-version: '25.08'
sdk: org.freedesktop.Sdk
command: supertux2
rename-icon: supertux-nightly
rename-desktop-file: supertux2.desktop
rename-appdata-file: supertux2.appdata.xml
finish-args:
  - --socket=wayland
  - --socket=fallback-x11
  - --socket=x11
  - --share=ipc
  - --socket=pulseaudio
  - --share=network
  - --device=all
modules:
  - external/shared-modules/SDL2/SDL2_image.json
  - external/shared-modules/physfs/physfs.json
  - external/shared-modules/glu/glu-9.json
  - external/shared-modules/glew/glew.json
  - name: glm
    buildsystem: cmake
    config-opts:
      - -DGLM_TEST_ENABLE=OFF
    sources:
      - type:   archive
        url:    https://github.com/g-truc/glm/archive/refs/tags/1.0.2.tar.gz
        sha256: 19edf2e860297efab1c74950e6076bf4dad9de483826bc95e2e0f2c758a43f65
  - name: supertux
    buildsystem: cmake-ninja
    config-opts:
      - -DINSTALL_SUBDIR_SHARE=share/supertux2
      - -DINSTALL_SUBDIR_BIN=bin
      - -DCMAKE_BUILD_TYPE=RelWithDebInfo
    sources:
      - type:   git
        url:    https://github.com/SuperTux/supertux.git
        branch: master
